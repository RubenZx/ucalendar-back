# Migration `20201012172614`

This migration has been generated by RubenZx at 10/12/2020, 7:26:14 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE UNIQUE INDEX `Message_parentId_unique` ON `Message`(`parentId`)
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201012163633..20201012172614
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 enum Role {
   ALUMN
@@ -25,18 +25,18 @@
   messagesSent     Message[]            @relation("sentTo")
 }
 model Message {
-  id            Int       @id @default(autoincrement())
+  id            Int      @id @default(autoincrement())
   content       String
-  sentDate      DateTime  @default(now())
-  parentMessage Message?  @relation(fields: [parentId], references: [id], name: "parent")
-  parentId      Int?
-  sentTo        User      @relation(fields: [sentToUid], references: [uid], name: "sentTo")
+  sentDate      DateTime @default(now())
+  sentTo        User     @relation(fields: [sentToUid], references: [uid], name: "sentTo")
   sentToUid     String
-  sentFrom      User      @relation(fields: [sentFromUid], references: [uid], name: "sentFrom")
+  sentFrom      User     @relation(fields: [sentFromUid], references: [uid], name: "sentFrom")
   sentFromUid   String
-  messages      Message[] @relation("parent")
+  parentMessage Message? @relation(fields: [parentId], references: [id], name: "parent")
+  parentId      Int?
+  message       Message  @relation("parent")
 }
 model Degree {
   id       Int             @id
```


